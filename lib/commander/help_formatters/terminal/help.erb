
  <%= $terminal.color "NAME", :bold %>:

    <%= program :name %>

  <%= $terminal.color "DESCRIPTION", :bold %>:

    <%= program :description %>

  <%= $terminal.color "SUB-COMMANDS", :bold %>:
<% @commands.each_pair do |name, command| -%>
	<% unless alias? name %>
    <%= "%-20s %s" % [command.name, command.summary || command.description] -%>
	<% end -%>
<% end %>
<% unless @aliases.empty? %>
  <%= $terminal.color "ALIASES", :bold %>:
  <% @aliases.each do |alias_name, args| %>
    <%= "%-20s %s %s" % [alias_name, command(alias_name).name, args.join(' ')] -%>
  <% end %>
<% end %>
<% unless @options.empty? -%>
  <%= $terminal.color "GLOBAL OPTIONS", :bold %>:
  <% @options.each do |(args, proc)| %>
    <%= "%-20s %s" % [args.shift, args.last.is_a?(String) ? args.last : ''] -%>
  <% end -%>
<% end %>
<% if program :help -%>
  <% program(:help).each_pair do |title, body| %>
  <%= $terminal.color title.to_s.upcase, :bold %>:

    <%= body %>
  <% end -%>
<% end -%>

